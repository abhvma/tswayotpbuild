import{e as f}from"./chunk-HDYAH6ZE.js";import{La as s,Va as m,Za as a,_a as d,fb as b,j as p,m as l}from"./chunk-DT5GXNXJ.js";import{h as c}from"./chunk-ENRHZQ2S.js";var h=class o extends d{constructor(e){super(e,f)}getName(){return"customers"}verifyCustomerIsUnique(e){return c(this,null,function*(){let u=this.getQueryBuilder().select(["customerId"]).where(r=>r.where("customerId",s(e.customerId)).orWhere("mobile",s(e.mobile))).buildParameterized(),i=m(u);return yield this.http.post(this.url(),i).then(r=>this.parseResponse(r).length===0)})}assignKey(e,t,u,i){let r=this.getQueryBuilder();r.where("customerId",s(u)).update({serialNumber:a(e,t,i.sequenceNumber,!1)}).buildParameterized();let n=m(r.buildParameterized());return this.http.post(this.url(),n).then(()=>a(e,t,i.sequenceNumber,!1))}static \u0275fac=function(t){return new(t||o)(l(b))};static \u0275prov=p({token:o,factory:o.\u0275fac})};export{h as a};
