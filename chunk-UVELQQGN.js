import{$a as y,gb as u,lb as l,mb as c}from"./chunk-7DNIHSJB.js";var d=class{constructor(t,e){this.http=t;this.entityClass=e}entityClass;url(){return l.api}createBody(t){return c(t,"192.168.1.11","")}getQueryBuilder(){return new u(new this.entityClass)}parseResponse(t){if(!Array.isArray(t))throw new Error("Invalid response from Service.");return y.createFromList(this.entityClass,t)}_getOrPaginate(t,e,r,i){let n=this.getQueryBuilder();t&&t.forEach(s=>{for(let a in s)if(Object.prototype.hasOwnProperty.call(s,a)){let o=s[a];o!=null&&n.where(a,o)}}),Number.isInteger(r)&&r!==null&&r!==void 0&&(i&&(r=r*i),n.limit(r,i)),e&&n.order(e);let p=this.createBody(n.buildParameterized());return this.http.post(this.url(),p).then(s=>this.parseResponse(s))}find(t){let e=this.getQueryBuilder(),r=new this.entityClass().getPrimaryKeyName();e.where(r,t).limit(1);let i=this.createBody(e.buildParameterized());return this.http.post(this.url(),i).then(n=>{if(!Array.isArray(n))throw new Error("Invalid response from Service.");return y.create(this.entityClass,n[0])})}get(t,e){return this._getOrPaginate(t,e)}paginate(t,e,r=1,i=100){return this._getOrPaginate(t,e,r,i)}create(t){let e=this.getQueryBuilder().insert(t).buildParameterized();return this.http.post(this.url(),this.createBody(e)).then(r=>y.create(this.entityClass,r))}update(t){let e=this.getQueryBuilder().update(t).buildParameterized();return this.http.post(this.url(),this.createBody(e)).then(r=>y.create(this.entityClass,r))}delete(t){let e=this.getQueryBuilder().delete(t).buildParameterized();return this.http.post(this.url(),this.createBody(e))}};export{d as a};
