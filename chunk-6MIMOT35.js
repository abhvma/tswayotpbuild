import{a as w}from"./chunk-7XU4XJEH.js";import"./chunk-KH7BRNI5.js";import{a as R}from"./chunk-HVPVQXOI.js";import{A as M,G as E,H as L,u as F,v as d,w as y,x as C,y as N,z as x}from"./chunk-DG3KOEER.js";import{P as l,Sa as v,T as a,W as f,X as g,da as p,db as b,gb as S,ha as i,ia as o,ja as u,na as h,v as c,wa as n}from"./chunk-CHJL3IYY.js";import"./chunk-WR2VUDLS.js";var s=class r{constructor(t,e,m){this.fb=t;this.authService=e;this.router=m;this.loginForm=this.fb.group({username:["",d.required],password:["",d.required]})}showErrorMessage=!1;loginForm;onNgInit(){this.authService.verifySession().then(t=>{this.router.navigate(["/manage"])})}onSubmit(){let t=new R;this.loginForm.valid?(this.showErrorMessage=!1,t.show(),this.authService.login(this.loginForm.value.username,this.loginForm.value.password).then(e=>{this.router.navigate(["/manage"])}).finally(()=>{t.hide()})):this.showErrorMessage=!0}static \u0275fac=function(e){return new(e||r)(a(E),a(w),a(b))};static \u0275cmp=f({type:r,selectors:[["app-login"]],standalone:!1,decls:15,vars:2,consts:[[1,"d-flex","align-items-center","justify-content-center","vh-100"],[1,"card","p-4",2,"min-width","300px","max-width","400px","width","100%"],[1,"text-center","mb-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(e,m){e&1&&(i(0,"div",0)(1,"div",1)(2,"h5",2),n(3,"Login"),o(),i(4,"form",3),h("ngSubmit",function(){return m.onSubmit()}),i(5,"div",4)(6,"label",5),n(7,"Username"),o(),u(8,"input",6),o(),i(9,"div",4)(10,"label",7),n(11,"Password"),o(),u(12,"input",8),o(),i(13,"button",9),n(14," Login "),o()()()()),e&2&&(l(4),p("formGroup",m.loginForm),l(9),p("disabled",m.loginForm.invalid))},dependencies:[N,F,y,C,x,M],encapsulation:2})};var I=[{path:"",component:s}],j=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=g({type:r});static \u0275inj=c({imports:[v,L,S.forChild(I)]})};export{j as AuthModule};
