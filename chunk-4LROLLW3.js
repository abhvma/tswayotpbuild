import{a as F}from"./chunk-HVPVQXOI.js";import{a as E,b as d}from"./chunk-OFIKN2NF.js";import{$ as I,B as b,C as h,E as A,P as c,Ra as k,T as M,W as x,Y as P,da as D,db as T,ga as R,ha as a,ia as l,ma as w,na as p,oa as v,u as S,wa as m,x as _,xa as C}from"./chunk-CHJL3IYY.js";import{g as s}from"./chunk-WR2VUDLS.js";function O(e,t="YYYY-MM-DD HH:mm:ss"){let o=e.getFullYear(),i=String(e.getMonth()+1).padStart(2,"0"),n=String(e.getDate()).padStart(2,"0"),r=String(e.getHours()).padStart(2,"0"),f=String(e.getMinutes()).padStart(2,"0"),y=String(e.getSeconds()).padStart(2,"0");return`${o}-${i}-${n} ${r}:${f}:${y}`}var V=class extends Date{toString(){return O(this)}};function Y(e,t){if(e&1){let o=w();a(0,"button",9),p("click",function(){b(o);let n=v();return h(n.onCancel())}),l()}}function j(e,t){if(e&1){let o=w();a(0,"button",10),p("click",function(){b(o);let n=v();return h(n.onCancel())}),m(1,"Cancel"),l()}}var g=class e{dialogRef;type="info";title="Alert";message="";showCancel=!0;onOk(){this.dialogRef.close(!0)}onCancel(){this.dialogRef.close(!1)}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=x({type:e,selectors:[["app-alert-dialog"]],inputs:{type:"type",title:"title",message:"message",showCancel:"showCancel"},decls:12,vars:7,consts:[[1,"modal-content"],[1,"tsway-modal-header"],[1,"tsway-modal-title"],["type","button","class","btn-close","aria-label","Close",3,"click",4,"ngIf"],[1,"tsway-modal-body"],[1,"mb-0"],[1,"tsway-modal-footer"],["type","button","class","btn btn-danger text-white me-2",3,"click",4,"ngIf"],["type","button",3,"click"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["type","button",1,"btn","btn-danger","text-white","me-2",3,"click"]],template:function(o,i){o&1&&(a(0,"div",0)(1,"div",1)(2,"h5",2),m(3),l(),I(4,Y,1,0,"button",3),l(),a(5,"div",4)(6,"p",5),m(7),l()(),a(8,"div",6),I(9,j,2,0,"button",7),a(10,"button",8),p("click",function(){return i.onOk()}),m(11,"OK"),l()()()),o&2&&(c(3),C(i.title),c(),D("ngIf",i.showCancel),c(3),C(i.message),c(2),D("ngIf",i.showCancel),c(),R("btn btn-",i.type,""))},dependencies:[k],encapsulation:2})};var u=class e{constructor(t){this.dialog=t}show(t,o,i="info",n=!0){return s(this,null,function*(){let r=yield this.dialog.open(g,{title:t,message:o,type:i,showCancel:n},{width:"30%"});return new Promise(f=>{r.closed.subscribe(y=>{f(y)})})})}static \u0275fac=function(o){return new(o||e)(_(d))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var N=class e{models=[];filteredModels=[];paginatedModels=[];modelFilters={};modelService;dialog;alert;toast;router;paginationOption={currentPage:1,pageSize:25,startPage:1,total:0};constructor(t){this.dialog=t.get(d),this.alert=t.get(u),this.toast=t.get(E),this.router=t.get(T)}getFilterParams(){return[]}loadModels(){let t=new F;return t.show(),this.modelService.get(this.getFilterParams()).then(o=>(t.hide(),this.models=o,this.models)).catch(o=>[]).finally(()=>t.hide())}ngOnInit(){}addModel(){return s(this,null,function*(){yield this.openDialog()})}updateModel(o){return s(this,arguments,function*({model:t}){this.openDialog(t)})}deleteModel(o){return s(this,arguments,function*({model:t}){(yield this.alert.show("Delete Item","Are you sure you want to delete this item?","danger"))&&this.modelService.delete(t).then(n=>{for(let r=0;r<this.models.length;r++)if(this.models[r][this.models[r].getPrimaryKeyName()]===t[t.getPrimaryKeyName()]){this.models.splice(r,1);break}this.toast.success("Item deleted successfully."),this.applyFilters()})})}onFilterChange(t){this.modelFilters=t,this.applyFilters()}static \u0275fac=function(o){return new(o||e)(M(A))};static \u0275dir=P({type:e})};export{O as a,V as b,u as c,N as d};
