import{$a as s,Ja as o,_a as m,ab as h,fb as d,j as p,m as b}from"./chunk-N56VVWT6.js";import{g as c}from"./chunk-ENRHZQ2S.js";var l={bankCode:"bank_cd",bankName:"bank_name"},y={bankCode:"bank_cd",branchCode:"branch_cd",branchName:"branch_name"},t=class extends o{bankCode="";branchCode="";branchName="";constructor(){super(),this._mapper=new s(y)}getSoftDelete(){}getPrimaryKeyName(){return"branch_code"}};t=c([h("branch")],t);var a=class extends o{bankCode="";bankName="";constructor(){super(),this._mapper=new s(l)}getSoftDelete(){}getPrimaryKeyName(){return"bank_code"}};a=c([h("bankmst")],a);var g=class n extends m{__branchStoreKey="tsway.branch.store";__branches;__branchMap=new Map;createBranchMap(){this.__branchMap=new Map,this.__branches&&this.__branches.forEach(e=>{this.__branchMap.set(e.branchCode,e)})}getBranchForCode(e){return this.__branchMap.get(e)}get branchMap(){return this.__branchMap}constructor(e){super(e,t)}getName(){return"branch"}storeBranches(e){localStorage.setItem(this.__branchStoreKey,JSON.stringify(e.map(r=>r.toJson())))}tryGettingFromStore(){let e=localStorage.getItem(this.__branchStoreKey)||"";try{let r=JSON.parse(e);return t.createFromList(t,r)}catch{}}get(e,r){if(this.__branches)return this.createBranchMap(),Promise.resolve(this.__branches);let i=this.tryGettingFromStore();return i?(this.__branches=i,this.createBranchMap(),Promise.resolve(i)):super.get(e,r).then(_=>(this.__branches=_.sort((f,u)=>f.branchName.toLowerCase().localeCompare(u.branchName.toLowerCase())),this.storeBranches(this.__branches),this.__branches))}static \u0275fac=function(r){return new(r||n)(b(d))};static \u0275prov=p({token:n,factory:n.\u0275fac,providedIn:"root"})};export{t as a,g as b};
