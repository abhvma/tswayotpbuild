import{a as j}from"./chunk-JPETF5GU.js";import{c as y}from"./chunk-SARCFGJF.js";import{a as L}from"./chunk-HVPVQXOI.js";import{B as s,C as f,D as g,Ea as b,Ha as S,K as d,O as t,P as i,Q as m,U as v,ba as r,gb as w,hb as u,ib as C,jb as F,k as c,lb as x,nb as E,ob as M,ub as N,wb as I,xa as h,y as p,zb as R}from"./chunk-RTONY4FF.js";import"./chunk-ENRHZQ2S.js";var l=class n{constructor(o,e,a){this.fb=o;this.authService=e;this.router=a;this.loginForm=this.fb.group({username:["",u.required],password:["",u.required]})}showErrorMessage=!1;loginForm;ngOnInit(){this.authService.verifySession().then(o=>{this.router.navigate(["/manage"])})}onSubmit(){let o=new L;this.loginForm.valid?(this.showErrorMessage=!1,o.show(),this.authService.login(this.loginForm.value.username,this.loginForm.value.password).then(e=>{this.router.navigate(["/manage"])}).catch(e=>{console.error(e)}).finally(()=>{o.hide()})):this.showErrorMessage=!0}static \u0275fac=function(e){return new(e||n)(s(N),s(y),s(b))};static \u0275cmp=f({type:n,selectors:[["app-login"]],standalone:!1,decls:25,vars:2,consts:[[1,"login-wrapper"],[1,"overlay"],[1,"container","d-flex","align-items-center","justify-content-center","vh-100"],[1,"login-card","card","p-4","text-center","shadow-lg"],[1,"mb-3"],[1,"logo-circle","mx-auto","d-flex","align-items-center","justify-content-center"],[1,"text-white","fw-bold","fs-4"],[1,"mb-1","text-primary"],[1,"text-muted","mb-3"],[1,"bi","bi-lock-fill","text-primary","display-4"],[3,"ngSubmit","formGroup"],[1,"mb-3","text-start"],["for","username",1,"form-label"],["type","text","id","username","formControlName","username",1,"form-control"],["for","password",1,"form-label"],["id","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"]],template:function(e,a){e&1&&(t(0,"div",0),m(1,"div",1),t(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"span",6),r(7,"Logo"),i()()(),t(8,"h4",7),r(9,"Key Management System"),i(),t(10,"h6",8),r(11,"Secure Login"),i(),t(12,"div",4),m(13,"i",9),i(),t(14,"form",10),v("ngSubmit",function(){return a.onSubmit()}),t(15,"div",11)(16,"label",12),r(17,"Username"),i(),m(18,"input",13),i(),t(19,"div",11)(20,"label",14),r(21,"Password"),i(),m(22,"tsway-password",15),i(),t(23,"button",16),r(24," Login "),i()()()()()),e&2&&(p(14),d("formGroup",a.loginForm),p(9),d("disabled",a.loginForm.invalid))},dependencies:[x,w,C,F,E,M,j],encapsulation:2})};var _=[{path:"",component:l}],G=class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=g({type:n});static \u0275inj=c({imports:[h,I,S.forChild(_),R]})};export{G as AuthModule};
