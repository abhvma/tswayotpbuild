import{a as N}from"./chunk-ZGDWY67E.js";import{$a as T,A as I,B as v,E as d,Ga as L,Ma as H,N as u,U as M,Z as x,_ as w,aa as y,ba as R,ca as k,ea as C,fa as h,ga as E,ja as _,ka as S,la as P,ob as V,pb as D,qb as F,rb as A,t as l,ta as j,ub as $,va as O,w as a,y as b}from"./chunk-WNWZG4BB.js";import{g}from"./chunk-ENRHZQ2S.js";function W(o,e){if(o&1){let t=_();C(0,"li",2),S("click",function(){let n=I(t).$implicit,s=P();return v(n.enabled!==!1&&s.onClick(n))}),E(1,"i"),j(2),h()}if(o&2){let t=e.$implicit;R("disabled",t.enabled===!1),u(),k("me-3 "+(t.icon||"")),u(),O(" ",t.label," ")}}var f=class o{menuItems=[];onItemClick=new d;onClick(e){this.onItemClick.emit(e)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=M({type:o,selectors:[["app-context-menu"]],inputs:{menuItems:"menuItems"},outputs:{onItemClick:"onItemClick"},decls:2,vars:1,consts:[[1,"context-menu","list-group","shadow-sm"],["class","list-group-item d-flex align-items-center",3,"disabled","click",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","align-items-center",3,"click"]],template:function(t,c){t&1&&(C(0,"ul",0),x(1,W,3,5,"li",1),h()),t&2&&(u(),y("ngForOf",c.menuItems))},dependencies:[H],styles:[".context-menu[_ngcontent-%COMP%]{background-color:#fff;padding:0;border-radius:4px;overflow:hidden;min-width:160px}.context-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;-webkit-user-select:none;user-select:none}.context-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}"]})};var B=class o{constructor(e,t){this.appRef=e;this.injector=t}menuComponentRef;itemSelected=new d;show(e,t,c="bottom",n=!0,s){this.close();let i=L(f,{environmentInjector:this.injector}),r=i.location.nativeElement;n||!s?document.body.appendChild(r):s.element.nativeElement.appendChild(r),this.appRef.attachView(i.hostView),i.instance.onItemClick.subscribe(m=>{this.itemSelected.emit(m),this.close()}),i.instance.menuItems=e,i.changeDetectorRef.detectChanges(),this.menuComponentRef=i,setTimeout(()=>{this.positionMenu(r,t,c),this.registerOutsideClick(r,t)},10)}close(){this.menuComponentRef&&(document.body.removeChild(this.menuComponentRef.location.nativeElement),this.appRef.detachView(this.menuComponentRef.hostView),this.menuComponentRef.destroy(),this.menuComponentRef=void 0)}registerOutsideClick(e,t){let c=n=>{!e.contains(n.target)&&n.target!==t&&(this.close(),document.removeEventListener("click",c))};document.addEventListener("click",c)}positionMenu(e,t,c){e.style.position="fixed";let n=t.getBoundingClientRect(),s=e.getBoundingClientRect(),i=0,r=0,m=4;({top:()=>{i=n.top-s.height-m,r=n.left},bottom:()=>{i=n.bottom+m,r=n.left},left:()=>{i=n.top,r=n.left-s.width-m},right:()=>{i=n.top,r=n.right+m}})[c](),r+s.width>window.innerWidth&&(r=window.innerWidth-s.width-m),r<0&&(r=m),i+s.height>window.innerHeight&&(i=window.innerHeight-s.height-m),i<0&&(i=m),Object.assign(e.style,{position:"fixed",top:`${i}px`,left:`${r}px`,zIndex:"2000"})}static \u0275fac=function(t){return new(t||o)(a(w),a(b))};static \u0275prov=l({token:o,factory:o.\u0275fac,providedIn:"root"})};var z={id:"id",bankCode:"bank_code",branchCode:"branch_code",otpRetryLimit:"retry_limit",smtpServer:"smtp_server",smtpUser:"smtp_userid",smtpPort:"smtp_port",smtpPass:"smtp_passwd"},p=class extends T{id=0;bankCode="";branchCode="";otpRetryLimit=0;smtpServer="";smtpPass="";smtpPort=0;smtpUser="";constructor(){super(),this._mapper=new V(z)}getPrimaryKeyName(){return"id"}getSoftDelete(){}setSmtpPort(e){this.smtpPort=Number(e)}setOtpRetryLimit(e){this.otpRetryLimit=Number(e)}setId(e){this.id=Number(e)}};g([A(),F("id")],p.prototype,"id",2),p=g([D("setting")],p);var K=class o extends N{constructor(e){super(e,p)}getName(){return"setting"}static \u0275fac=function(t){return new(t||o)(a($))};static \u0275prov=l({token:o,factory:o.\u0275fac})};export{B as a,p as b,K as c};
