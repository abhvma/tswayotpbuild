import{a as z}from"./chunk-DTYSYGLW.js";import{a as $}from"./chunk-KH7BRNI5.js";import{c as ae}from"./chunk-EDAPQLVF.js";import{a as O}from"./chunk-IYAOVYZQ.js";import{a as q}from"./chunk-HVPVQXOI.js";import{$a as N,Ab as Z,Bb as ee,Cb as te,Db as ne,Eb as ie,Hb as oe,Ib as re,Ma as M,N as m,Oa as G,R as c,U as d,V as y,Wa as H,Ya as U,Z as S,Za as V,_a as D,aa as l,ca as L,ea as n,fa as i,ga as a,ib as K,ka as B,nb as P,ob as E,t as C,ta as o,tb as _,u as k,ub as J,va as f,w as x,wa as j,wb as Q,xa as R,xb as W,yb as X,zb as Y}from"./chunk-MCVMA3LQ.js";import{g as h,h as T}from"./chunk-ENRHZQ2S.js";var ce=()=>({exact:!0});function de(e,r){if(e&1&&(n(0,"li",6)(1,"a",11),a(2,"i"),o(3),i()()),e&2){let t=r.$implicit;m(),l("routerLink",t.path)("routerLinkActiveOptions",R(5,ce)),m(),L("bi "+t.icon),m(),f(" ",t.label," ")}}var w=class e{constructor(r){this.authService=r}brandName="OTP Management System";navLinks=[{label:"Dashboard",path:"/manage",icon:"bi-speedometer2"},{label:"Customers",path:"/manage/customers",icon:"bi-people"},{label:"Transaction Logs",path:"/manage/transactions",icon:"bi-file-earmark-text"},{label:"OTP Logs",path:"/manage/otplogs",icon:"bi-shield-lock"},{label:"Settings",path:"/manage/settings",icon:"bi-gear"}];logoutClick(){this.authService.logout()}static \u0275fac=function(t){return new(t||e)(c(z))};static \u0275cmp=d({type:e,selectors:[["app-navbar"]],standalone:!1,decls:15,vars:2,consts:[[1,"sidebar","d-flex","flex-column","p-3","bg-primary","text-white"],[1,"sidebar-rounded"],[1,"brand-container"],[1,"brandname","fs-5","fw-bold","text-decoration-none"],[1,"nav","nav-pills","flex-column"],["class","nav-item mb-2",4,"ngFor","ngForOf"],[1,"nav-item","mb-2"],["role","button",1,"nav-link","d-flex","align-items-center","gap-2",3,"click"],[1,"bi","bi-box-arrow-right"],["role","button",1,"nav-link","d-flex","align-items-center","gap-2"],[1,"bi","bi-file-earmark-pdf"],["routerLinkActive","active",1,"nav-link","d-flex","align-items-center","gap-2",3,"routerLink","routerLinkActiveOptions"]],template:function(t,s){t&1&&(n(0,"aside",0)(1,"div",1)(2,"div",2)(3,"a",3),o(4),i()(),n(5,"ul",4),S(6,de,4,6,"li",5),n(7,"li",6)(8,"a",7),B("click",function(){return s.logoutClick()}),a(9,"i",8),o(10," Logout"),i()(),n(11,"li",6)(12,"a",9),a(13,"i",10),o(14," Download Manual"),i()()()()()),t&2&&(m(4),f(" ",s.brandName," "),m(2),l("ngForOf",s.navLinks))},dependencies:[M,U,V],styles:[".sidebar[_ngcontent-%COMP%]{position:fixed;height:100vh;width:16rem;top:0;left:0;padding-top:1rem;z-index:1000}.brand-container[_ngcontent-%COMP%]{margin-bottom:2rem}.brandname[_ngcontent-%COMP%]{color:var(--bs-white-rgb);margin-bottom:3rem}.nav-link.active[_ngcontent-%COMP%]{background-color:#0d6efd;color:#fff!important}.nav-link[_ngcontent-%COMP%]{color:var(--bs-white);background-color:transparent;border-radius:.375rem;transition:background-color .2s ease,color .2s ease}.nav-link[_ngcontent-%COMP%]:hover{background-color:rgba(var(--bs-white-rgb),.1);color:var(--bs-white)}.nav-link.active[_ngcontent-%COMP%]{background-color:var(--bs-danger);color:var(--bs-white)!important}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}"]})};var I=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-admin"]],standalone:!1,decls:4,vars:0,consts:[[1,"d-flex","flex-row"],[1,"main-content","flex-fill"]],template:function(t,s){t&1&&(n(0,"div",0),a(1,"app-navbar"),n(2,"div",1),a(3,"router-outlet"),i()())},dependencies:[H,w],styles:[".main-content[_ngcontent-%COMP%]{margin-left:17rem}"]})};var ge={bankCode:"bank_cd",bankName:"bank_name",branchCode:"branch_cd",branchName:"branch_name"},u=class extends N{constructor(){super(),this._mapper=new P(ge)}getSoftDelete(){}bankCode="";bankName="";branchCode="";branchName="";getPrimaryKeyName(){return""}};u=h([E("bankmst")],u);var b=class e extends O{constructor(r){super(r,u)}getName(){return"bank"}static \u0275fac=function(t){return new(t||e)(x(_))};static \u0275prov=C({token:e,factory:e.\u0275fac})};var ve={id:"id",bankCode:"bank_cd",branchCode:"branch_cd",otpRetryLimit:"otp_retry_limit",smtpServer:"smtpserver",smtpUser:"smtpuser",smtpPort:"smtpport",smtpPass:"smtppass"},p=class extends N{id="";bankCode="";branchCode="";otpRetryLimit="";smtpServer="";smtpPass="";smtpPort="";smtpUser="";constructor(){super(),this.id=$(),this._mapper=new P(ve)}getPrimaryKeyName(){return"id"}getSoftDelete(){}};p=h([E("setting")],p);var v=class e extends O{constructor(r){super(r,p)}getName(){return"setting"}static \u0275fac=function(t){return new(t||e)(x(_))};static \u0275prov=C({token:e,factory:e.\u0275fac})};function he(e,r){if(e&1&&(n(0,"option",25),o(1),i()),e&2){let t=r.$implicit;l("value",t.code),m(),f(" ",t.name," ")}}function Ce(e,r){if(e&1&&(n(0,"option",25),o(1),i()),e&2){let t=r.$implicit;l("value",t.branchCode),m(),f(" ",t.branchName," ")}}var F=class e{constructor(r,t,s){this.bankService=r;this.settingService=t;this.formGroup=s.group({bankCode:[""],branchCode:[""],otpRetryLimit:[""],smtpServer:[""],smtpPort:[""],smtpUser:[""],smtpPass:[""]})}bankOptions=K;branchOptions=[];settingModel=new p;formGroup;ngOnInit(){return T(this,null,function*(){let r=new q;try{this.branchOptions=yield this.bankService.get();let t=yield this.settingService.get();t.length>0&&(this.settingModel=t[0],this.formGroup.patchValue(this.settingModel))}catch{}finally{r.hide()}})}static \u0275fac=function(t){return new(t||e)(c(b),c(v),c(oe))};static \u0275cmp=d({type:e,selectors:[["app-settings"]],standalone:!1,features:[j([b,v])],decls:72,vars:3,consts:[[1,"container","py-5",3,"formGroup"],[1,"mb-4","fw-semibold"],[1,"d-flex","justify-content-end","mb-2"],["role","button",1,"btn-link","text-muted","small","text-decoration-none"],[1,"bi","bi-csv","me-1"],[1,"mb-5"],[1,"card","shadow-sm"],[1,"card-header","bg-light"],[1,"mb-0"],[1,"card-body"],[1,"mb-3","row"],[1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["formConrolName","otpRetryLimit","type","number","placeholder","Enter max retry limit",1,"form-control"],["formControlName","bankCode","placeholder","Enter default bank name or code",1,"form-control"],["disabled",""],[3,"value",4,"ngFor","ngForOf"],["formControlName","branchCode","placeholder","Enter default bank name or code",1,"form-control"],[1,"text-muted","mb-3"],["formControlName","smtpServer","type","text","placeholder","smtp.example.com",1,"form-control"],["formControlName","smtpPort","type","number","placeholder","e.g. 587",1,"form-control"],["formControlName","smtpUser","type","text","placeholder","Enter username",1,"form-control"],["formControlName","smtpPass","type","password","placeholder","Enter password",1,"form-control"],[1,"text-end"],[1,"btn","btn-primary","btn-lg","px-5"],[3,"value"]],template:function(t,s){t&1&&(n(0,"form",0)(1,"div")(2,"h2",1),o(3,"Settings"),i(),n(4,"div",2)(5,"a",3),a(6,"i",4),o(7," Upload Branch "),i()()(),n(8,"section",5)(9,"div",6)(10,"div",7)(11,"h5",8),o(12,"OTP Settings"),i()(),n(13,"div",9)(14,"div",10)(15,"label",11),o(16,"Max Retry Limit for OTPs"),i(),n(17,"div",12),a(18,"input",13),i()()()()(),n(19,"section",5)(20,"div",6)(21,"div",7)(22,"h5",8),o(23,"Bank Settings"),i()(),n(24,"div",9)(25,"div",10)(26,"label",11),o(27,"Default Bank"),i(),n(28,"div",12)(29,"select",14)(30,"option",15),o(31,"Select One"),i(),S(32,he,2,2,"option",16),i()()(),n(33,"div",10)(34,"label",11),o(35,"Default Branch"),i(),n(36,"div",12)(37,"select",17)(38,"option",15),o(39,"Select One"),i(),S(40,Ce,2,2,"option",16),i()()()()()(),n(41,"section",5)(42,"div",6)(43,"div",7)(44,"h5",8),o(45,"System Settings"),i()(),n(46,"div",9)(47,"h6",18),o(48,"SMTP Settings"),i(),n(49,"div",10)(50,"label",11),o(51,"SMTP Server"),i(),n(52,"div",12),a(53,"input",19),i()(),n(54,"div",10)(55,"label",11),o(56,"SMTP Port"),i(),n(57,"div",12),a(58,"input",20),i()(),n(59,"div",10)(60,"label",11),o(61,"SMTP Username"),i(),n(62,"div",12),a(63,"input",21),i()(),n(64,"div",10)(65,"label",11),o(66,"SMTP Password"),i(),n(67,"div",12),a(68,"input",22),i()()()()(),n(69,"div",23)(70,"button",24),o(71,"Save Settings"),i()()()),t&2&&(l("formGroup",s.formGroup),m(32),l("ngForOf",s.bankOptions),m(8),l("ngForOf",s.branchOptions))},dependencies:[M,X,ne,ie,J,Y,te,Q,W,Z,ee],styles:[".card-header[_ngcontent-%COMP%]{background-color:#f8f9fa}input.form-control[_ngcontent-%COMP%]{box-shadow:none}hr[_ngcontent-%COMP%]{border-color:#e0e0e0}"]})};var ke=[{path:"",component:I,children:[{path:"",loadChildren:()=>import("./chunk-AR76MNWQ.js").then(e=>e.DashboardModule)},{path:"customers",loadChildren:()=>import("./chunk-7TSQ2GH2.js").then(e=>e.HomeModule)},{path:"transactions",loadChildren:()=>import("./chunk-2SSDCOA6.js").then(e=>e.TransactionLogModule)},{path:"otplogs",loadChildren:()=>import("./chunk-JB7LRZYB.js").then(e=>e.OtpCheckModule)},{path:"settings",component:F}]}],A=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=y({type:e});static \u0275inj=k({imports:[D.forChild(ke),D]})};var se=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=y({type:e});static \u0275inj=k({imports:[A,ae,G,re]})};export{se as AdminModule};
