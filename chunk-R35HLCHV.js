import{a as I,c as E}from"./chunk-UJRL6OBK.js";import{$ as R,Lb as k,Qa as C,W as T,ab as b,c as g,u as y,v as h,x as w}from"./chunk-RHKCHBCJ.js";import{h as v}from"./chunk-ENRHZQ2S.js";var n=class{constructor(e){this.closeFn=e}_closed=new g;closed=this._closed.asObservable();close(e){this._closed.next(e),this._closed.complete(),this.closeFn(e)}};var l=class i{constructor(e){this.appRef=e}getOptions(e){return{clickToClose:e?.clickToClose??!0,className:e?.className??"",width:e?.width??"auto"}}open(e,t,c){let{clickToClose:D,className:f}=this.getOptions(c),o=document.createElement("div"),r=document.createElement("div");r.classList.add("modal-dialog"),f&&o.classList.add(...f.split(" ")),c?.width&&(r.style.width=c.width),o.appendChild(r),o.classList.add("dialog-wrapper","tsway-modal","fade-in");let d=()=>v(this,null,function*(){o.classList.remove("fade-in"),yield this.delay(50),o.classList.add("fade-out"),yield this.delay(300),this.appRef.detachView(s.hostView),s.destroy(),document.body.removeChild(o),document.removeEventListener("keyup",p)}),p=a=>{a.key==="Escape"&&(d(),document.removeEventListener("keyup",p))};document.addEventListener("keyup",p);let m=document.createElement("div");m.classList.add("dialog-overlay","position-fixed","top-0","start-0","w-100","h-100","bg-dark","opacity-50"),o.appendChild(m),document.body.appendChild(o),D&&o.addEventListener("click",a=>{a.target===m&&d()});let s=this.appRef.bootstrap(e,r);if(t)for(let a in t)s.setInput(a,t[a]);let u=new n(d);return s.instance.dialogRef=u,Promise.resolve(u)}delay(e){return new Promise(t=>setTimeout(t,e))}static \u0275fac=function(t){return new(t||i)(w(R))};static \u0275prov=y({token:i,factory:i.\u0275fac})};var L=class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=T({type:i});static \u0275inj=h({providers:[l,I],imports:[k,C,b,E]})};export{l as a,L as b};
