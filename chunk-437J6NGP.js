import{c as k}from"./chunk-MSOV2H6W.js";import{c as B}from"./chunk-KSFLBU46.js";import"./chunk-KH7BRNI5.js";import"./chunk-44S3GGHA.js";import{a as L}from"./chunk-HVPVQXOI.js";import{h as p,m as I}from"./chunk-IN5U5HSP.js";import{Ba as P,Da as x,O as a,S as w,Sa as q,V as m,W as Q,Y as O,ca as l,cb as U,ea as T,fb as N,ga as r,ha as i,ia as s,ra as M,sa as S,ta as _,u as y,va as d,xa as h,za as E}from"./chunk-OFLTUPQJ.js";import"./chunk-WR2VUDLS.js";var u=class o{transform(e,t){if(e==null||e==="")return"";let n=Number(e);if(isNaN(n))return e.toString();let c=t?.locale??"np";return t?.shorten??!1?this.shortenNumber(n):c==="np"?this.formatIndian(n):this.formatWestern(n)}formatWestern(e){return new Intl.NumberFormat("en-US").format(e)}formatIndian(e){let t=e.toString().split("."),n=t[0],c=t[1]?`.${t[1]}`:"",C=n.slice(-3),v=n.slice(0,-3),A=v.replace(/\B(?=(\d{2})+(?!\d))/g,",");return(v?A+",":"")+C+c}shortenNumber(e){let t=Math.abs(e),n;return t>=1e9?n=(e/1e9).toFixed(2)+"B":t>=1e6?n=(e/1e6).toFixed(2)+"M":t>=1e3?n=(e/1e3).toFixed(2)+"K":n=e.toString(),n.replace(/\.00([KMB])$/,"$1")}static \u0275fac=function(t){return new(t||o)};static \u0275pipe=O({name:"numberLocale",type:o,pure:!0})};var j=["card"],z=()=>({shorten:!0}),f=class o{constructor(e){this.http=e}title="";value="";changeText="";iconClass="";qb;container;ngAfterViewInit(){let e=new L(this.container.nativeElement),[t,n]=this.qb.buildParameterized();e.show(),this.http.post(I.api,{params:n,sql:t}).then(c=>{c.length>0?this.value=""+(c[0].count||"NA"):this.value="NA"}).finally(()=>e.hide())}static \u0275fac=function(t){return new(t||o)(w(N))};static \u0275cmp=m({type:o,selectors:[["app-stat-card"]],viewQuery:function(t,n){if(t&1&&M(j,5),t&2){let c;S(c=_())&&(n.container=c.first)}},inputs:{title:"title",value:"value",changeText:"changeText",iconClass:"iconClass",qb:"qb"},standalone:!1,decls:11,vars:8,consts:[["card",""],[1,"stat-card","card","border-0","p-3"],[1,"d-flex","align-items-center"],[1,"icon-wrapper","d-flex","align-items-center","justify-content-center","flex-shrink-0","me-3"],[1,"d-flex","flex-column"],[1,"stat-title","text-muted"],[1,"stat-value","fw-bold"]],template:function(t,n){t&1&&(r(0,"div",1,0)(2,"div",2)(3,"div",3),s(4,"i"),i(),r(5,"div",4)(6,"span",5),d(7),i(),r(8,"span",6),d(9),P(10,"numberLocale"),i()()()()),t&2&&(a(4),T("bi "+n.iconClass),a(3),h(" ",n.title," "),a(2),h(" ",x(10,4,n.value,E(7,z))," "))},dependencies:[u],styles:[".stat-card[_ngcontent-%COMP%]{background-color:#f1f1f1}.stat-card[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:72px;height:72px;border-radius:30px;background-color:#c7e6f9}.stat-card[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:44px;color:var(--bs-primary)}.stat-card[_ngcontent-%COMP%]   .stat-title[_ngcontent-%COMP%]{font-size:16px}.stat-card[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:32px}.stat-card[_ngcontent-%COMP%]   .stat-change[_ngcontent-%COMP%]{font-size:14px}"]})};var b=class o{totalUserQb;OtpCardUserQb;OtpAppUserQb;OtherUserQb;totalTransactionsQb;totalMobileTransactionQb;internetTransactionQb;totalOtherTransactionQb;constructor(){}ngOnInit(){let e=new B;this.totalUserQb=new p(e),this.totalUserQb.raw("SELECT count(*) as count from cifmst"),this.OtpAppUserQb=new p(e),this.OtpAppUserQb.raw("SELECT count(*) as count from cifmst where otptype=?",[1]),this.OtpCardUserQb=new p(e),this.OtpCardUserQb.raw("SELECT count(*) as count from cifmst where otptype=?",[2]),this.OtherUserQb=new p(e),this.OtherUserQb.raw("SELECT count(*) as count from cifmst where otptype=?",[3]);let t=new k;this.totalTransactionsQb=new p(t),this.totalTransactionsQb.raw("SELECT count(*) as count from otpchk where status=?",[1]),this.internetTransactionQb=new p(t),this.internetTransactionQb.raw("SELECT count(*) as count from otpchk where status=? and trace_type=?",[1,2]),this.totalMobileTransactionQb=new p(t),this.totalMobileTransactionQb.raw("SELECT count(*) as count from otpchk where status=? and trace_type=?",[1,1]),this.totalOtherTransactionQb=new p(t),this.totalOtherTransactionQb.raw("SELECT count(*) as count from otpchk where status=? and trace_type=?",[1,3])}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=m({type:o,selectors:[["app-dashboard"]],standalone:!1,decls:23,vars:8,consts:[[1,"container-fluid","py-4","d-flex","flex-column","vh-100"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"text-muted","mb-4"],[1,"row","g-3"],[1,"col-md-3"],["title","Total Users","value","0","iconClass","bi-people-fill",3,"qb"],["title","OTP Card Users","value","0","iconClass","bi-credit-card-2-front-fill",3,"qb"],["title","OTP App Users","value","0","iconClass","bi-phone-vibrate-fill",3,"qb"],["title","Other Users","value","0","iconClass","bi-person-lines-fill",3,"qb"],["title","Total Transactions","value","0","iconClass","bi-arrow-repeat",3,"qb"],["title","OTP Transactions","value","0","iconClass","bi-shield-lock-fill",3,"qb"],["title","Mobile Transactions","value","0","iconClass","bi-phone-flip",3,"qb"],["title","Other Transactions","value","0","iconClass","bi-box-arrow-left",3,"qb"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),d(3,"Dashboard"),i()(),r(4,"h5",3),d(5,"Insights"),i(),r(6,"div",4)(7,"div",5),s(8,"app-stat-card",6),i(),r(9,"div",5),s(10,"app-stat-card",7),i(),r(11,"div",5),s(12,"app-stat-card",8),i(),r(13,"div",5),s(14,"app-stat-card",9),i(),r(15,"div",5),s(16,"app-stat-card",10),i(),r(17,"div",5),s(18,"app-stat-card",11),i(),r(19,"div",5),s(20,"app-stat-card",12),i(),r(21,"div",5),s(22,"app-stat-card",13),i()()()),t&2&&(a(8),l("qb",n.totalUserQb),a(2),l("qb",n.OtpCardUserQb),a(2),l("qb",n.OtpAppUserQb),a(2),l("qb",n.OtherUserQb),a(2),l("qb",n.totalTransactionsQb),a(2),l("qb",n.totalTransactionsQb),a(2),l("qb",n.totalMobileTransactionQb),a(2),l("qb",n.totalOtherTransactionQb))},dependencies:[f],styles:[".stat-card[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px}.icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;display:flex;justify-content:center;align-items:center}.bg-light-blue[_ngcontent-%COMP%]{background-color:#e6f2fe}.bg-light-orange[_ngcontent-%COMP%]{background-color:#fff4e5}.bg-light-purple[_ngcontent-%COMP%]{background-color:#eef3fd}.bg-light-red[_ngcontent-%COMP%]{background-color:#ffecec}"]})};var H=[{path:"",component:b}],D=class o{static \u0275fac=function(t){return new(t||o)};static \u0275mod=Q({type:o});static \u0275inj=y({imports:[q,U.forChild(H)]})};export{D as DashboardModule};
